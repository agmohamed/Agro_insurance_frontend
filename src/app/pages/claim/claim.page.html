<ion-header>
  <ion-toolbar color="success">
      <!-- <ion-icon name="arrow-back-outline" (click)="back()"></ion-icon> -->
      <ion-buttons slot="start">
          <ion-back-button></ion-back-button>
      </ion-buttons>
    <ion-title>Claim Application</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <div id="header"><h1>Claim Details</h1></div>

    <form [formGroup]="myform" (ngSubmit)="submit()" novalidate>
    <ion-card>

    
  <ion-item>
    <ion-input type="text" formControlName="policy_number" placeholder="Policy Number"  [(ngModel)]="policy_number"></ion-input>
  </ion-item>

  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.policy_number.errors?.required">
      Policy Number is required
  </span>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.policy_number.errors?.pattern">
      Please provide valid Policy Number
   </span>

  <ion-item>
    <ion-label>Incident Date</ion-label>
    <ion-datetime  formControlName="date" displayFormat="YYYY-MM-DD" min="2020" max="2030" [(ngModel)]="date" ></ion-datetime>
  </ion-item>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.date.errors?.required">
    date is required.
  </span>

  <ion-item>
    <ion-label>Type of loss</ion-label>
    <ion-select formControlName="loss" [(ngModel)]="loss"  >
      <ion-select-option >pest damage</ion-select-option>
      <ion-select-option >Drought</ion-select-option>
      <ion-select-option>damaged by elephants</ion-select-option>
      <ion-select-option >emergency fire</ion-select-option>
      <ion-select-option >insect effect</ion-select-option>
      <ion-select-option >damage by wild animals</ion-select-option>
      <ion-select-option >other natural perils</ion-select-option>
    </ion-select>
  </ion-item>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.loss.errors?.required">
   Type of damage is required
  </span>

  <ion-item>
      <ion-input type="text" formControlName="phone"  [(ngModel)]="phone" placeholder="Contact number" ></ion-input>
  </ion-item>
    <span class="error ion-padding" *ngIf="isSubmitted && errorControl.phone.errors?.required">
   Phone is required
    </span>
    <span class="error ion-padding" *ngIf="isSubmitted && errorControl.phone.errors?.pattern">
    Please provide valid Phone Number
    </span>

  <ion-item>
      <ion-input type="text" formControlName="amount"  [(ngModel)]="amount" placeholder="Expected Loss Amount" ></ion-input>
  </ion-item>

    <span class="error ion-padding" *ngIf="isSubmitted && errorControl.amount.errors?.required">
    Amount is required
    </span>
    <span class="error ion-padding" *ngIf="isSubmitted && errorControl.amount.errors?.pattern">
     Please provide valid amount
    </span>

</ion-card>

  <div id="header"><h1>Loan Details</h1></div>
  <ion-card>
  <ion-item>
    <ion-label>Bank name</ion-label>
    <ion-select  formControlName="bank" [(ngModel)]="bank"  >
        <ion-select-option >People's</ion-select-option>
        <ion-select-option >BOC</ion-select-option>
        <ion-select-option >Sanasa</ion-select-option>
        <ion-select-option >Sampath</ion-select-option>
        
    </ion-select>
  </ion-item>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.bank.errors?.required">
   Bank is required
 </span>

  <ion-item>
      <ion-input type="text" formControlName="branch" [(ngModel)]="branch" placeholder="Branch" ></ion-input>
  </ion-item>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.branch.errors?.required">
    Branch is required
  </span>

  <ion-item>
      <ion-input type="text" formControlName="account" [(ngModel)]="account" placeholder="Account Number" ></ion-input>
  </ion-item>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.account.errors?.required">
    Account number is required
  </span>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.account.errors?.pattern">
      Please provide valid Account number 
   </span>
  <ion-item>
     <ion-input type="text" formControlName="loan"  [(ngModel)]="loan" placeholder="loan Number" ></ion-input>
  </ion-item>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.loan.errors?.required">
   Loan number is required
  </span>
  <span class="error ion-padding" *ngIf="isSubmitted && errorControl.amount.errors?.pattern">
      Please provide valid  Loan number
  </span>
</ion-card>

<ion-item class="it1">
  <ion-label fixed>Add Image</ion-label>
  <ion-button color="primary"  (click)="presentActionSheet()">Take picture</ion-button>
</ion-item>

<ion-grid>
    <ion-row>
      <ion-col col-6 *ngFor="let p of photos">
        <img [src]="p"/>
      </ion-col>
    
    </ion-row>
</ion-grid>
<div>
  <ion-button type="submit" expand="block" shape="round"  color='success'  >Submit</ion-button>
</div>

</form>
</ion-content>
